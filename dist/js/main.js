window.home={highlightMovies:[],carouselsMovies:[],init(){this.initialState()},initialState(){this.initDOMEvents(),this.getMovies()},initDOMEvents(){this.toggleNavActive(".nav-item")},toggleNavActive(i){$(i).click((function(){document.querySelectorAll(i).forEach(i=>{$(i).hasClass("active")&&i.classList.remove("active")}),$(this).addClass("active")}))},getMovies(){$.ajax({url:"https://sky-frontend.herokuapp.com/movies",type:"GET",success:i=>{this.setState(i)},error:i=>{console.log(i.statusText,i.status)}})},setState(i){this.highlightMovies=i.filter(i=>"highlights"===i.type),this.carouselsMovies=i.filter(i=>"carousel-portrait"===i.type),this.makeHighlightsSlider(),this.makeMoviesCarousels()},makeHighlightsSlider(){const i=this.highlightMovies[0].items.map(i=>`\n        <div class="item">\n          <a href="#">\n            <img src="${i.images[0].url}"\n            alt="${i.title}"\n            title="${i.title}">\n          </a>\n        </div>`).join("");$(".slider").html(i).removeClass("on-loading"),this.initHighlightsSlider()},makeMoviesCarousels(){const i=this.carouselsMovies.map(i=>`\n        <div class="movies-list-carousel">\n          <h2 class="movies-header-title">${i.title}</h2>\n          <div class="movies-carousel">\n            ${i.movies.map(i=>`\n              <div class="item ${i.isBlocked?"blocked":""}">\n                <div class="movie-img">\n                  <a href="#">\n                    <img src="${i.images[0].url}" alt="${i.title}" />\n                  </a>\n                </div>\n              </div>\n            `).join("")}\n          </div>\n        </div> `);$(".wrapper-carousel").html(i),this.initMoviesCarousels()},initHighlightsSlider(){$(".slider").slick({centerMode:!0,centerPadding:"25%",dots:!0,autoplay:!1,autoplaySpeed:1e3,responsive:[{breakpoint:768,settings:{arrows:!1,dots:!1,centerMode:!1,centerPadding:0}}]})},initMoviesCarousels(){$(".movies-carousel").slick({initialSlide:0,infinite:!1,slidesToShow:7,slidesToScroll:7,responsive:[{breakpoint:992,settings:{slidesToShow:5,slidesToScroll:5}},{breakpoint:768,settings:{arrows:!1,centerMode:!1,slidesToShow:4,slidesToScroll:1}},{breakpoint:599,settings:{arrows:!1,centerMode:!1,slidesToShow:2,slidesToScroll:1}}]})}};